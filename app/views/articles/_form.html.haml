= simple_form_for(@article) do |f|
  = f.error_notification

  .form-inputs
    - if can? :create, @article
      .row
        .span3
          = f.input :page, collection: Page.all
        .span3
          = f.input :author_name
          = f.input :author_id, collection: User.where(page: current_user.page)
    - if can? :edit, @article
      .row
        .span9
          = f.file_field :photo

      %hr
    %section
      %header{contenteditable:"true", class:"header", id:"article_the_title"}
        Title...
      %br
      %article{contenteditable:"true", class:"content", id:"article_content"}
        %p Body...

    = f.hidden_field :title
    = f.hidden_field :body
    = f.hidden_field :author_name



  .form-actions
    - if can? :create, @article
      = f.input :published
    = f.button :submit

:javascript
  $(document).ready(function(){
    $("input[name='commit']").button().click(function(){
      $("#article_body").val($("#article_content").html());
    })
    $("input[name='commit']").button().click(function(){
      $("#article_title").val($("#article_the_title").html());
    })
    if($("#article_title").val() != ""){
      $("#article_the_title").html($("#article_title").val());
      $("#article_content").html($("#article_body").val());
    }
  });
